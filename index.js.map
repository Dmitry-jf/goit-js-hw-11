{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// - запит\n\nimport axios from \"axios\";\n\n\n\nexport function getImagesByQuery(query) {\n  const params = {\n    q: query,\n    key: '52578833-1380a7e48419fcc1cc100434d',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 40,\n  };\n\n  return axios.get('https://pixabay.com/api/', { params })\n    .then(response => response.data.hits);\n}\n","// - розмітка\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport const gallery = document.querySelector(\".gallery\");\nexport const loader = document.querySelector(\".loader\");\n\nexport const lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 150,\n});\n\nexport function createGallery(images) {\n const markup = images\n     .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `\n<li class=\"photo-card\">\n  <a href=\"${largeImageURL}\" class=\"gallery-link\" aria-label=\"${tags}\">\n    <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n  </a>\n  <div class=\"info\">\n    <p class=\"info-item\"><b>Likes</b><span>${likes}</span></p>\n    <p class=\"info-item\"><b>Views</b><span>${views}</span></p>\n    <p class=\"info-item\"><b>Comments</b><span>${comments}</span></p>\n    <p class=\"info-item\"><b>Downloads</b><span>${downloads}</span></p>\n  </div>\n</li>`\n    )\n    .join('');\n    \n    \n  gallery.innerHTML = markup;\n  lightbox.refresh();\n}\n  \n export function clearGallery() {\n  gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n  loader.classList.remove(\"hidden\");\n}\n\nexport function hideLoader() {\n  loader.classList.add(\"hidden\");\n}","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from \"./js/render-functions.js\";\n\n// ПОДІЯ -> ЗАПИТ -> РЕНДЕР\n\n// Для зручності 3 функціі:\n//   - функція - ЗАПИТ (axios)\n//   - функція - розмітка (рендер)\n//  - функція - прослуховувач (подія)\n\nconst refs = {\n  form: document.querySelector('.form'),\n  \n};\n\n\nrefs.form.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const query = e.target.elements['search-text'].value.trim(); \n\n\n  clearGallery();\n  showLoader();\n\n\n  getImagesByQuery(query)\n    .then(images => {\n      hideLoader();\n\n      if (images.length === 0) {\n        iziToast.error({\n          title: \"\",\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          position: \"topRight\",\n        });\n        return\n      }\n       createGallery(images);\n    })\n    .catch(error => {\n      hideLoader()\n      console.error(error);\n    })\n  e.target.reset();\n});\n\n"],"names":["getImagesByQuery","query","params","axios","response","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","refs","e","iziToast","error"],"mappings":"owBAMO,SAASA,EAAiBC,EAAO,CACtC,MAAMC,EAAS,CACb,EAAGD,EACH,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,EAEE,OAAOE,EAAM,IAAI,2BAA4B,CAAE,OAAAD,CAAM,CAAE,EACpD,KAAKE,GAAYA,EAAS,KAAK,IAAI,CACxC,CCbO,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CACvD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACrC,MAAMC,EAASD,EACV,IACE,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA;AAAA,aAEDL,CAAa,sCAAsCC,CAAI;AAAA,gBACpDF,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,6CAGGC,CAAK;AAAA,6CACLC,CAAK;AAAA,gDACFC,CAAQ;AAAA,iDACPC,CAAS;AAAA;AAAA,MAGrD,EACA,KAAK,EAAE,EAGVb,EAAQ,UAAYM,EACpBJ,EAAS,QAAO,CAClB,CAEQ,SAASY,GAAe,CAC9Bd,EAAQ,UAAY,EACtB,CAEO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCnCA,MAAMgB,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,CAEtC,EAGAA,EAAK,KAAK,iBAAiB,SAAWC,GAAM,CAC1CA,EAAE,eAAc,EAEhB,MAAMtB,EAAQsB,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OAGrDJ,IACAC,IAGApB,EAAiBC,CAAK,EACnB,KAAKS,GAAU,CAGd,GAFAW,IAEIX,EAAO,SAAW,EAAG,CACvBc,EAAS,MAAM,CACb,MAAO,GACP,QAAS,2EACT,SAAU,UACpB,CAAS,EACD,MACD,CACAf,EAAcC,CAAM,CAC3B,CAAK,EACA,MAAMe,GAAS,CACdJ,EAAY,EACZ,QAAQ,MAAMI,CAAK,CACzB,CAAK,EACHF,EAAE,OAAO,OACX,CAAC"}